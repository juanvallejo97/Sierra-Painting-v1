# Sierra Painting Web App - Environment Configuration Template
#
# Copy this file to:
# - .env.local (for local development)
# - .env.staging (for staging deployment)
# - .env.production (for production deployment)
#
# DO NOT commit actual .env files with secrets

# ============================================================
# ENVIRONMENT
# ============================================================

# Environment name: development, staging, production
NODE_ENV=development

# Next.js URL (for middleware, redirects, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================
# FIREBASE CONFIGURATION (Public - exposed to client)
# ============================================================

# Firebase Project ID
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id

# Firebase API Key (safe to expose, rate-limited by Firebase)
NEXT_PUBLIC_FIREBASE_API_KEY=your-api-key

# Firebase Auth Domain
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com

# Firebase Storage Bucket
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com

# Firebase Messaging Sender ID
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-sender-id

# Firebase App ID
NEXT_PUBLIC_FIREBASE_APP_ID=your-app-id

# ============================================================
# FIREBASE ADMIN (Server-side only - KEEP SECRET)
# ============================================================

# Firebase Admin Service Account Key (JSON)
# For local dev: path to service account key file
# For production: use environment variable with full JSON
FIREBASE_ADMIN_SERVICE_ACCOUNT=/path/to/service-account-key.json

# Alternative: Individual fields (for cloud hosting)
# FIREBASE_ADMIN_PROJECT_ID=
# FIREBASE_ADMIN_CLIENT_EMAIL=
# FIREBASE_ADMIN_PRIVATE_KEY=

# ============================================================
# FIREBASE EMULATORS (Development only)
# ============================================================

# Enable Firebase emulators for local development
USE_FIREBASE_EMULATORS=true

# Emulator hosts (when USE_FIREBASE_EMULATORS=true)
FIREBASE_AUTH_EMULATOR_HOST=127.0.0.1:9099
FIRESTORE_EMULATOR_HOST=127.0.0.1:8080
FIREBASE_STORAGE_EMULATOR_HOST=127.0.0.1:9199

# ============================================================
# API CONFIGURATION
# ============================================================

# API timeout in milliseconds
API_TIMEOUT_MS=30000

# Max retry attempts for failed API requests
API_MAX_RETRIES=3

# Retry delay in milliseconds (exponential backoff from this base)
API_RETRY_DELAY_MS=1000

# ============================================================
# FEATURE FLAGS (Optional - Override Firebase Remote Config)
# ============================================================

# Enable web app (for canary rollout)
# FEATURE_WEB_ENABLED=false

# Canary rollout percentage (0-100)
# FEATURE_WEB_CANARY_PERCENT=0

# Enable SSR for specific routes
# FEATURE_SSR_TIMECLOCK=true
# FEATURE_SSR_INVOICES=true
# FEATURE_SSR_ESTIMATES=true
# FEATURE_SSR_ADMIN=true

# ============================================================
# CACHING
# ============================================================

# SWR revalidation intervals (in seconds)
SWR_REVALIDATE_INTERVAL=300

# ISR revalidation intervals (in seconds)
ISR_REVALIDATE_JOBS=60
ISR_REVALIDATE_INVOICES=300

# ============================================================
# SECURITY
# ============================================================

# Session cookie name
SESSION_COOKIE_NAME=__session

# Session cookie max age (in seconds, 14 days default)
SESSION_COOKIE_MAX_AGE=1209600

# CSRF protection secret (generate random string for production)
CSRF_SECRET=change-this-in-production

# ============================================================
# OBSERVABILITY
# ============================================================

# Enable structured logging
ENABLE_LOGGING=true

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# Sample rate for traces (0.0 to 1.0)
TRACE_SAMPLE_RATE=1.0

# ============================================================
# ANALYTICS (Optional)
# ============================================================

# Google Analytics Measurement ID
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================================
# DEVELOPMENT
# ============================================================

# Enable bundle analyzer
ANALYZE=false

# Disable telemetry
NEXT_TELEMETRY_DISABLED=1

# ============================================================
# NOTES
# ============================================================

# Setup Steps:
# 1. Copy this file to .env.local
# 2. Fill in Firebase project details (get from Firebase Console)
# 3. For local dev with emulators: set USE_FIREBASE_EMULATORS=true
# 4. For staging/production: get service account key from Firebase Console
#
# Environment Variable Precedence:
# .env.local > .env.production > .env.staging > .env
#
# Public vs Private:
# - NEXT_PUBLIC_* variables are exposed to the browser
# - Variables without NEXT_PUBLIC_ are server-side only
#
# Security Checklist:
# ✓ Never commit .env files with real credentials
# ✓ Use different Firebase projects for staging/production
# ✓ Rotate secrets regularly
# ✓ Use CI/CD secret management for production
# ✓ Validate all environment variables at startup
