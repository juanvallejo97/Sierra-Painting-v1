{
  "name": "sierra-painting-ci",
  "version": "1.0.0",
  "private": true,
  "type": "module",
  "description": "Root package for CI testing infrastructure including Firestore rules tests",
  "scripts": {
    "serve": "npx http-server build/web -p 9000 -o --cors",
    "serve:staging": "cp .env.staging .env && flutter build web --release && npm run serve",
    "serve:auto": "pwsh ./scripts/serve_web.ps1",
    "test:rules": "firebase emulators:exec --only firestore \"vitest run tests/rules\"",
    "test:security": "firebase emulators:exec --only firestore \"vitest run tests/rules\"",
    "test:perf": "firebase emulators:exec --only firestore \"vitest run tests/perf\"",
    "test": "jest --runInBand --detectOpenHandles --forceExit",
    "smoke": "node scripts/smoke.mjs",
    "smoke:local": "node scripts/smoke.mjs http://127.0.0.1:8080",
    "spa": "node scripts/spa_server.mjs",
    "dev:serve": "npx serve -l 3000 ./scripts --no-clipboard",
    "validate:e2e": "node scripts/validate_runner.js",
    "validate:generate-config": "node scripts/generate_firebase_config.js",
    "validate:create-user": "node scripts/create_user.js",
    "validate:run": "node scripts/validate_runner.js",
    "validate:local": "node scripts/local_validate.js",
    "clean:reset": "git clean -xdf -e node_modules",
    "predeploy:functions": "npm --prefix functions run build",
    "predeploy:web": "flutter build web --release",
    "fs:emul": "firebase emulators:start --only firestore",
    "fs:lint": "firebase emulators:exec --only firestore 'firebase firestore:rules:test || exit 1'",
    "ci:test": "pwsh ./scripts/run_tests_windows.ps1",
    "ci:guard": "pwsh ./scripts/ci_functions_guard.ps1",
    "prepare": "husky",
    "dev:web": "pwsh ./scripts/dev.ps1 web",
    "dev:android": "pwsh ./scripts/dev.ps1 android",
    "fix": "pwsh ./scripts/dev.ps1 fix",
    "smoke:android": "pwsh ./scripts/dev.ps1 smoke",
    "seed": "dart run tools/seed_fixtures.dart",
    "seed:staging": "ts-node tools/seed/apply_seed.ts",
    "seed:staging:check": "ts-node tools/seed/apply_seed.ts --check",
    "verify:companyId": "ts-node scripts/backfill/verify-companyId.ts",
    "backfill:companyId": "ts-node scripts/backfill/backfill-companyId.ts",
    "rollback:migration": "ts-node scripts/backfill/rollback-migration.ts"
  },
  "bin": {
    "spa-server": "scripts/spa_server.mjs"
  },
  "devDependencies": {
    "@commitlint/cli": "^20.1.0",
    "@commitlint/config-conventional": "^20.0.0",
    "@types/node": "^20.10.0",
    "dotenv": "^16.3.1",
    "firebase-admin": "^12.0.0",
    "firebase-tools": "^13.9.1",
    "http-server": "^14.1.1",
    "husky": "^9.1.7",
    "node-fetch": "^3.3.2",
    "puppeteer": "^21.6.0",
    "ts-node": "^10.9.2",
    "typescript": "^5.3.0",
    "vitest": "^2.1.3"
  },
  "dependencies": {
    "dotenv": "16.4.5",
    "firebase-functions": "^6.4.0"
  }
}